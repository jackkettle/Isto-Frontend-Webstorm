<section>
    <div class="container">
        <tabset class="margin-bottom-20 margin-top-20">

            <!-- Information -->

            <tab heading="Information" active="tab1">
                <div class="text-center animated fadeInDown animation-delay-8">
                    <h1 class="text-primary">Information</h1>
                </div>
                <div class="panel panel-default animated fadeInDown animation-delay-8">
                    <div class="google-maps">
                        <iframe src="https://mapsengine.google.com/map/u/0/embed?mid=ze-th9W4Q-Z0.kPDl3rRH7Wj0" width="100%" height="100%"></iframe>
                    </div>
                </div>
            </tab>

            <!-- Routines -->

            <tab heading="Routines" active="tab2">
                <div class="text-center animated fadeInDown animation-delay-8">
                    <h1 class="text-primary">Routines</h1>
                </div>

                <!--Routines.Trampolining-->
                <div class="panel panel-default animated fadeInDown animation-delay-8">
                    <div class="panel-heading"><h2>Trampoline</h2></div>
                    <div class="panel-body">
                        <div ng-repeat="level in routineData.trampolining.levels">
                            <h3 class="text-primary text-center">{{ level.level }}</h3>
                            <hr/>
                            <div ng-repeat="routine in level.routines" class="col-md-6 ">
                                <h4 class="col-md-12">Routine {{ routine.pass }}</h4>
                                <table class="table table-striped table-responsive">
                                    <thead>
                                    <tr>
                                        <th>Moves</th>
                                        <th>Tariff</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="move in routine.moves" >
                                            <td>{{ move.name }}</td>
                                            <td>{{ move.tariff }}</td>
                                        </tr>
                                    </tbody>
                                    <tfoot>
                                    <tr>
                                        <td>&nbsp;</td>
                                        <td>{{ getTotalTariff(routine.moves) }}</td>
                                    </tr>
                                    </tfoot>
                                </table>
                            </div>
                            <div class="panel-body">
                                <h4>Rules</h4>
                                <p ng-if="level.level == 'Elite' || level.level == 'Elite-pro'">
                                    <strong>Out of 10 moves</strong>
                                </p>
                                <ul class="list-unstyled">
                                    <li ng-repeat="rule in level.rules">{{rule}}</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                </div>

                <!--Routines.Tumbling-->
                <div class="panel panel-default animated fadeInDown animation-delay-8">
                    <div class="panel-heading"><h2>Tumbling</h2></div>
                    <div class="panel-body">
                        <div class="col-md-12">
                            <h3 class="text-primary">Description</h3>
                            <p>{{ routineData.tumbling.description }}</p>
                        </div>
                        <div ng-repeat="level in routineData.tumbling.levels">
                            <h3 class="text-primary text-center">{{ level.level }}</h3>
                            <hr/>
                            <div class="col-md-12">
                                <div ng-repeat="routine in level.routines" ng-if="level.level != 'Level 5'" class="col-md-6 ">
                                    <h4 class="col-md-12">{{ routine.name }}</h4>
                                    <table class="table table-striped table-responsive">
                                        <thead>
                                            <tr>
                                                <th>Moves</th>
                                                <th>&nbsp;</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="move in routine.moves" >
                                                <td>{{ move.name }}</td>
                                                <td>&nbsp;</td>
                                            </tr>
                                        </tbody>
                                        <tfoot>
                                            <tr>
                                                <td>Total elements</td>
                                                <td>{{ routine.element_num }}</td>
                                            </tr>
                                            <tr>
                                                <td>Total tariff</td>
                                                <td>{{ routine.total_tariff }}</td>
                                            </tr>
                                        </tfoot>
                                    </table>
                                </div>
                            </div>
                            <div class="panel-body col-md-6" ng-if="level.level == 'Level 5'" ng-repeat="routine in level.routines">
                                <h3>{{ routine.name }}</h3>
                                <h4>Rules</h4>
                                <ul class="list-unstyled">
                                    <li ng-repeat="rule in routine.rules">{{rule}}</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!--Routines.DMT-->
                <div class="panel panel-default animated fadeInDown animation-delay-8">
                    <div class="panel-heading"><h2>DMT</h2></div>
                    <div class="panel-body">
                        <div class="col-md-12">
                            <h3 class="text-primary">Description</h3>
                            <p>{{ routineData.dmt.description }}</p>
                        </div>
                        <div ng-repeat="level in routineData.dmt.levels">
                            <h3 class="text-primary text-center">{{ level.level }}</h3>
                            <hr/>
                            <div ng-repeat="pass in level.passes" class="col-md-12">
                                <h4 class="col-md-12 text-center">Pass {{ pass.pass }}</h4>
                                <div ng-repeat="routine in pass.routines" class="col-md-6 ">
                                    <h4 class="col-md-12">Routine {{ routine.pass }}</h4>
                                    <table class="table table-striped table-responsive">
                                        <thead>
                                        <tr>
                                            <th>Moves</th>
                                            <th>Tariff</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr ng-repeat="move in routine.moves" >
                                            <td>{{ move.name }}</td>
                                            <td>{{ move.tariff }}</td>
                                        </tr>
                                        </tbody>
                                        <tfoot>
                                        <tr>
                                            <td>&nbsp;</td>
                                            <td>{{ getTotalTariff(routine.moves) }}</td>
                                        </tr>
                                        </tfoot>
                                    </table>
                                </div>
                            </div>
                            <div class="panel-body" ng-if="level.level == 'Level 3'">
                                <h4>Rules</h4>
                                <ul class="list-unstyled">
                                    <li ng-repeat="rule in level.rules">{{rule}}</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </tab>

            <!-- Schedule -->

            <tab heading="Schedule" active="tab3">
                <div class="text-center animated fadeInDown animation-delay-8">
                    <h1 class="text-primary">Schedule</h1>
                </div>
                <div class="panel panel-default animated fadeInDown animation-delay-8">

                </div>
            </tab>

            <!-- Tariff Calculator -->

            <tab heading="Tariff Calculator" active="tab4">
                <div class="text-center animated fadeInDown animation-delay-8">
                    <h1 class="text-primary">Tariff Calculator</h1>
                </div>
                <div class="panel panel-default animated fadeInDown animation-delay-8">
                    
                    <div ng-controller="tariffController">
                        <table class="table table-striped table-hover table-responsive">
                            <thead>
                            <tr>
                                <th>Number</th>
                                <th>Skill</th>
                                <th>Shape</th>
                                <th>Tariff</th>
                                <th> </th>
                            </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="userskill in userRoutine track by $index">
                                    <td>
                                        {{$index + 1}}
                                    </td>
                                    <td >
                                        <select
                                            ng-model="selectedMove"
                                            ng-change="
                                                userRoutine[$index] = selectedMove;
                                                onChangeSelect();
                                                userRoutine[$index].totalTariff = checkMoveTariff(userRoutine[$index])"
                                            ng-options="move.skill group by move.level for move in moves | orderBy:'tariff':false"
                                        >
                                        </select>
                                    </td>
                                    <td >
                                        <div>
                                            <form>
                                                <div class="form-group">
                                                <span>T</span>
                                                <input type="radio" 
                                                    name="tuck"
                                                    checked
                                                    ng-change="onChangeSelect(); userRoutine[$index].totalTariff = checkMoveTariff(userRoutine[$index])"
                                                    value="tuck"
                                                    ng-model="userRoutine[$index].shape"
                                                    >
                                                <span>P</span>
                                                <input type="radio" 
                                                    name="pike"
                                                    ng-change="onChangeSelect(); userRoutine[$index].totalTariff = checkMoveTariff(userRoutine[$index])"
                                                    value="pike" 
                                                    ng-model="userRoutine[$index].shape">
                                                <span>S</span>
                                                <input type="radio" 
                                                    name="straight"
                                                    ng-change="onChangeSelect(); userRoutine[$index].totalTariff = checkMoveTariff(userRoutine[$index])"
                                                    value="straight" 
                                                    ng-model="userRoutine[$index].shape"
                                                >
                                                </div>
                                            </form>
                                        </div>
                                    </td>
                                    <td>
                                        <div ng-class="{repeatmove: userRoutine[$index].repeatMove}">
                                            <div>
                                                <div ng-if="userRoutine[$index].ttariff !== 0">{{ userRoutine[$index].totalTariff}}</div>
                                                <div ng-if="userRoutine[$index].ttariff === 0">0</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td><div class="repeatmove" ng-if="userRoutine[$index].repeatMove">Repeat</div></td>
                                </tr>
                            </tbody>
                            <tfoot>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td colspan=1><h3>Total tariff</h3></d>
                                    <td><h3>{{ sum }}</h3></td>
                                    <td></td>
                                </tr>
                            </tfoot>
                        </table>
                    </div>
                </div>
            </tab>

        </tabset>
    </div>
</section>